<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="stylesheet" href="/build/tailwind.css" />
    <script
      src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.4.1/dist/alpine.min.js"
      defer
    ></script>
    <title>Welcome to Tailwind!</title>
  </head>
  <body class="antialiased">
    <div
      x-data="hero()"
      x-init="initImageLoop()"
      class="relative overflow-hidden w-screen h-720px bg-gray-700 mx-auto"
    >
      <template x-for="image in images">
        <div
          :style="image.path"
          class="w-screen h-full absolute top-0"
          :class="{'z-20' : activeImage === image.id}"
          x-show="activeImage === image.id"
          x-transition:enter="transition ease-out transform duration-500 -ml-1280px"
          x-transition:enter-start="opacity-75 transform"
          x-transition:enter-end="opacity-100 transform translate-x-1280px"
          x-transition:leave="transition ease-rubber duration-500"
          x-transition:leave-start="opacity-100 transform"
          x-transition:leave-end="opacity-50 transform"
        >
          <h1 class="text-5xl font-semibold text-white" :html="image.h1">
            hey Hey
          </h1>
        </div>
      </template>
    </div>
    <script>
      function hero() {
        return {
          images: [
            {
              id: 0,
              path: `background-image: url(images/london_crop.jpg)`,
              h1: "Best cafe in Berlin"
            },
            {
              id: 1,
              path: `background-image: url(images/new_york_crop.jpg)`,
              h1: "Finest tea"
            },
            {
              id: 2,
              path: `background-image: url(images/monaco_crop.jpg)`,
              h1: "Finest tea"
            }
          ],
          activeImage: 0,
          intervalID: 0,
          initImageLoop() {
            this.intervalID = setInterval(() => {
              const newId = (this.activeImage + 1) % 3;
              console.log(`New id ${newId}`);
              this.activeImage = newId;
            }, 2000);
          }
        };
      }
    </script>
  </body>
</html>
